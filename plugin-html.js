"use strict";var defaultparams={renderedTag:"div",featureTagName:"feature",tagAttributeName:"tag",nameAttributeName:"name",variantAttributeName:"variant",dataAttributeName:"data",displayAttributeName:"display",defaultDisplay:"block"};function parseDataAttribute(e){try{return JSON.parse(e)}catch(t){return isNaN(parseFloat(e))?e:parseFloat(e)}}function htmlplugin(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};function i(t,e){var a=t.getAttribute(u.tagAttributeName)||u.renderedTag,r=Array.from(t.attributes),i="";r.forEach(function(t){i+=" "+t.nodeName+'="'+t.nodeValue.replace(/"/g,"&quot;")+'"'});var n=e?t.getAttribute(u.displayAttributeName)||u.defaultDisplay:"none";t.outerHTML="<"+a+'  style="display:'+n+'" _feature="true" '+i+">"+t.innerHTML+"</"+a+">"}return u=Object.assign({},defaultparams,u),function(r){return window.document.querySelectorAll(u.featureTagName).forEach(function(t){i(t,!1)}),r.on("visibilityrule",function(a){var t="[_feature]["+u.nameAttributeName+'="'+a.name+'"]';a.variant&&(t+="["+u.variantAttributeName+'="'+a.variant+'"]'),document.querySelectorAll(t).forEach(function(t){var e=parseDataAttribute(t.getAttribute(u.dataAttributeName));i(t,r.isVisible(a.name,a.variant,e))})}),{name:"htmlplugin"}}}"undefined"!=typeof window&&(window.htmlplugin=htmlplugin),"undefined"!=typeof module&&(module.exports=htmlplugin);