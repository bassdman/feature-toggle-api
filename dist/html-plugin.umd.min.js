!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).featureToggleHtmlPlugin={})}(this,(function(t){"use strict";const e={renderedTag:"div",featureTagName:"feature",tagAttributeName:"tag",nameAttributeName:"name",variantAttributeName:"variant",dataAttributeName:"data",displayAttributeName:"display",defaultDisplay:"block"};t.htmlPlugin=function(t={}){function a(e,a){const r=e.getAttribute(t.tagAttributeName)||t.renderedTag,n=Array.from(e.attributes);let i="";n.forEach((t=>{i+=` ${t.nodeName}="${t.nodeValue.replace(/"/g,"&quot;")}"`}));const u=a?e.getAttribute(t.displayAttributeName)||t.defaultDisplay:"none";e.outerHTML=`<${r}  style="display:${u}" _feature="true" ${i}>${e.innerHTML}</${r}>`}return t=Object.assign({},e,t),function(e){return window.document.querySelectorAll(t.featureTagName).forEach((t=>{a(t,!1)})),e.on("visibilityrule",(function(r){var n=`[_feature][${t.nameAttributeName}="${r.name}"]`;r.variant&&(n+=`[${t.variantAttributeName}="${r.variant}"]`),document.querySelectorAll(n).forEach((n=>{const i=function(t){try{return JSON.parse(t)}catch(e){return isNaN(parseFloat(t))?t:parseFloat(t)}}(n.getAttribute(t.dataAttributeName));a(n,e.isVisible(r.name,r.variant,i))}))})),{name:"htmlplugin"}}}}));
//# sourceMappingURL=html-plugin.umd.min.js.map
